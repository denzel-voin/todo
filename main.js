(()=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===_typeof(i)?i:String(i)),n)}var r,i}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var e=function(){function Task(e){_classCallCheck(this,Task),this.completed=!1,this.id=Task.currentId++,this.title=e,this.completed=!1}return _createClass(Task,[{key:"getId",value:function getId(){return this.id}},{key:"getTitle",value:function getTitle(){return this.title}},{key:"isCompleted",value:function isCompleted(){return this.completed}},{key:"toggleTaskCompletion",value:function toggleTaskCompletion(){this.completed=!this.completed}}]),Task}();e.currentId=0;var t=function(){function TaskList(){_classCallCheck(this,TaskList),this.tasks=[]}return _createClass(TaskList,[{key:"addTask",value:function addTask(e){this.tasks.push(e)}},{key:"removeTask",value:function removeTask(e){this.tasks=this.tasks.filter((function(t){return t.getId()!==e}))}},{key:"getTasks",value:function getTasks(){return this.tasks}},{key:"toggleTaskCompletion",value:function toggleTaskCompletion(e){var t=this.tasks.find((function(t){return t.getId()===e}));t&&t.toggleTaskCompletion()}}]),TaskList}();function TaskController_typeof(e){return TaskController_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TaskController_typeof(e)}function TaskController_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function TaskController_toPrimitive(e,t){if("object"!==TaskController_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==TaskController_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===TaskController_typeof(i)?i:String(i)),n)}var r,i}var o=function(){function TaskController(e,t){var o=this;!function TaskController_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskController),this.taskList=e,this.taskView=t,this.taskView.onAddTask=function(e){return o.handleAddTask(e)},this.taskView.onRemoveTask=function(e){return o.handleRemoveTask(e)},this.taskView.onToggleTaskCompletion=function(e){return o.handleToggleTaskCompletion(e)},this.renderTasks()}return function TaskController_createClass(e,t,o){return t&&TaskController_defineProperties(e.prototype,t),o&&TaskController_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(TaskController,[{key:"handleAddTask",value:function handleAddTask(t){if(t.trim()){var o=new e(t);this.taskList.addTask(o),this.renderTasks()}}},{key:"handleRemoveTask",value:function handleRemoveTask(e){this.taskList.removeTask(e),this.renderTasks()}},{key:"handleToggleTaskCompletion",value:function handleToggleTaskCompletion(e){this.taskList.toggleTaskCompletion(e),this.renderTasks()}},{key:"renderTasks",value:function renderTasks(){this.taskView.render(this.taskList)}}]),TaskController}();function TaskView_typeof(e){return TaskView_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TaskView_typeof(e)}function TaskView_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function TaskView_toPrimitive(e,t){if("object"!==TaskView_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==TaskView_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===TaskView_typeof(i)?i:String(i)),n)}var r,i}var n=function(){function TaskView(){var e=this;!function TaskView_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskView),this.onAddTask=function(){},this.onRemoveTask=function(){},this.onToggleTaskCompletion=function(){},this.form=document.querySelector("#task-form"),this.input=document.querySelector("#task-title"),this.result=document.querySelector("#task-list"),this.form.addEventListener("submit",(function(t){t.preventDefault();var o=e.input.value.trim();o&&(e.onAddTask(o),e.input.value="")})),this.result.addEventListener("click",(function(t){var o=t.target;if(o.classList.contains("delete-button")){var n=parseInt(o.dataset.id,10);e.onRemoveTask(n)}else if(o.classList.contains("task-item")){var r=parseInt(o.dataset.id,10);e.onToggleTaskCompletion(r)}}))}return function TaskView_createClass(e,t,o){return t&&TaskView_defineProperties(e.prototype,t),o&&TaskView_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(TaskView,[{key:"render",value:function render(e){var t=this;this.result.innerHTML="",e.getTasks().forEach((function(e){var o=document.createElement("li");o.classList.add("task-item"),o.textContent=e.getTitle(),o.dataset.id=e.getId().toString();var n=document.createElement("button");n.classList.add("delete-button"),n.textContent="Удалить",n.dataset.id=e.getId().toString(),o.append(n),e.isCompleted()&&o.classList.add("completed"),t.result.append(o)}))}}]),TaskView}();new o(new t,new n)})();
//# sourceMappingURL=main.js.map